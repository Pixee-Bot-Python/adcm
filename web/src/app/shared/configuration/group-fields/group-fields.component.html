<mat-expansion-panel [expanded]="active" [disabled]="!active" [ngClass]="{ panel: true, advanced: isAdvanced }" #ep>
  <mat-expansion-panel-header>
    <mat-panel-title class="title">
      <mat-checkbox
        *ngIf="panel.type==='group'"
        [ngModel]="panel.group_config.checkboxValue"
        [disabled]="panel.group_config.disabled"
        (click)="$event.stopPropagation();"></mat-checkbox>
      <span>{{ panel.display_name }}</span>
      <mat-slide-toggle *ngIf="panel.activatable" [checked]="active" (change)="activeToggle($event)">
      </mat-slide-toggle>
    </mat-panel-title>
    <mat-panel-description>
      <mat-icon *ngIf="panel.description" matSuffix [appTooltip]="panel.description">
        info_outline
      </mat-icon>
    </mat-panel-description>
  </mat-expansion-panel-header>
  <app-config-fields class="in-group" [dataOptions]="panel.options" [form]="form"></app-config-fields>
</mat-expansion-panel>
