<div [ngClass]="{'m2m':true, 'selected': model.isSelected, 'linked': model.isLink}">
  <div class="title-container">
    <button mat-button [disabled]="isDisabled()" class="title" [appTooltip]="model.name"
      [appTooltipShowByCondition]="true" (click)="clickToTitle()">
      <span *ngIf="isError()" class="warn" [matTooltip]="errorMessage()">*</span>&nbsp;<span
        [style.color]="model.color">{{ model.name }}</span>
    </button>
    <button mat-raised-button color="primary"
      (click)="toggleRelations()">{{ checkLimit() ? setNotify() : model.relations.length }}</button>
  </div>
  <div [ngClass]="{'relations-list':true, 'show': model.relations.length && isShow}">
    <div *ngFor="let rel of model.relations">
      <span [appTooltip]="rel.name" [appTooltipShowByCondition]="true">{{ rel.name }}</span>
      <button [disabled]="clearDisabled(rel)" mat-icon-button color="primary" (click)="clearRelation(rel)">
        <mat-icon>clear</mat-icon>
      </button>
    </div>
  </div>
  <div [ngClass]="{notification: true, show: model.notification}">
    <ul>
      <li *ngFor="let item of model.notification">{{ item }}</li>
    </ul>
  </div>
</div>
