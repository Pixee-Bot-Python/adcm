<ng-container *ngIf="loading; else loaded">
  <p>Loading...</p>
</ng-container>

<ng-template #loaded>

  <div class="controls">
    <button mat-raised-button color="primary" (click)="expandCollapseAll()">Expand/Collapse All</button>
  </div>

  <app-status-tree
    [tree]="statusTree | async | hostStatusToStatusTree"
    [folding]="folding"
    #tree
  ></app-status-tree>

</ng-template>
